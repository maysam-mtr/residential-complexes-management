<div>
    <div class="page-header">
        <h2>Admins List</h2>

        <div class="header-actions">
            <input type="text"
            placeholder="Search admins..."
            [(ngModel)]="searchQuery"
            (input)="onSearch()">

            <button class="btn-add" (click)="openAddAdminModal()">+ Add Admin</button>
        </div>
    </div>

    <div class="admin-table">
        <table>
        <thead>
            <tr>
                <th>Civility</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Email</th>
                <th>Phone</th>
                <th>Role</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let admin of admins">
                <td>{{admin.civility}}</td>
                <td>{{admin.firstName}}</td>
                <td>{{admin.lastName}}</td>
                <td>{{admin.email}}</td>
                <td>{{admin.phone}}</td>
                <td>{{admin.role}}</td>
                <td>{{admin.status}}</td>
            </tr>
        </tbody>
        </table>
    </div>

    <div class="pagination">
        <button (click)="prevPage()" [disabled]="currentPage === 1">Previous</button>
        <span>{{currentPage}}</span>
        <button (click)="nextPage()" [disabled]="admins.length < limit">Next</button>
    </div>

    <app-modal [title]="'Add Admin'" [show]="showAddModal" (close)="showAddModal = false">
      <form (ngSubmit)="addAdmin()" #addAdminForm="ngForm">
        <div class="form-group">
            <label>Civility</label>
            <select name="civility" [(ngModel)]="newAdmin.civility" required>
                <option value="" disabled>Select Civility</option>
                <option value="Mr">Mr</option>
                <option value="Mrs">Mrs</option>
                <option value="Ms">Ms</option>
                <option value="Dr">Dr</option>
            </select>
        </div>

        <div class="form-group">
            <label>First Name</label>
            <input type="text" [(ngModel)]="newAdmin.first_name" name="firstName" required>
        </div>

        <div class="form-group">
            <label>Last Name</label>
            <input type="text" [(ngModel)]="newAdmin.last_name" name="lastName" required>
        </div>

        <div class="form-group">
            <label>Email</label>
            <input type="text" [(ngModel)]="newAdmin.email" name="email" required>
        </div>

        <div class="form-group">
            <label>Phone</label>
            <input type="text" [(ngModel)]="newAdmin.phone" name="phone" required>
        </div>

        <div class="form-group">
            <label>Password</label>
            <input type="password" [(ngModel)]="newAdmin.password" name="password" required>
        </div>

        <div class="form-group">
            <label>Role</label>
            <select name="role" [(ngModel)]="newAdmin.role" required>
                <option value=0 disabled>Select Role</option>
                <option value=2>Complex Admin</option>
                <option value=3>Building Admin</option>
            </select>
        </div>

        <div class="modal-actions">
            <button type="submit" class="btn-save" [disabled]="!addAdminForm.form.valid">Add</button>
        </div>
      </form>
    </app-modal>
</div>
